/*! jquery-mobile-angular-adapter - v1.3.2-SNAPSHOT - 2013-05-27
* https://github.com/opitzconsulting/jquery-mobile-angular-adapter
* Copyright (c) 2013 Tobias Bosch; Licensed MIT */
(function(e){"function"==typeof define&&define.amd?define(["jquery","angular","jquery.mobile"],e):e(window.jQuery,window.angular)})(function(e,t){(function(e){function t(e,t,n){var r=e[t];e[t]=function(){return n(r,this,arguments)}}function n(t){function n(){for(i=0;o.length>i;i++)o[i]()}function r(t,n){function r(){if(!c){var e=this,t=arguments;o.push(function(){e[n].apply(e,t)})}c=!0;try{return i.apply(this,arguments)}finally{c=!1}}var i=e.fn[t];e.fn[t]=r,a.push(function(){e.fn[t]=i})}var i,o=[],a=[],c=!1;r("on","off");try{t()}finally{for(i=0;a.length>i;i++)a[i]()}return n}e(document).on("pageremove","div",function(t){e.mobile.activePage&&e.mobile.activePage[0]===this&&t.preventDefault()}),e(document).on("pagebeforechange",function(t,n){e.mobile.activePage&&n.toPage[0]===e.mobile.activePage[0]&&"none"!==n.options.transition&&(n.options.transition="fade")}),t(e.mobile.selectmenu.prototype,"destroy",function(e,t,n){e.apply(t,n);var r=t.menuPage;r&&r.remove()}),e.fn.controlgroup&&e.mobile.document.bind("pagecreate create",function(t){e.mobile.controlgroup.prototype.enhanceWithin(t.target,!0)}),t(e.fn,"grid",function(e,t,n){return 0!==t.children().length?e.apply(t,n):void 0}),t(e.mobile.navbar.prototype,"_create",function(e,t,r){var i;return t.unbindListeners=n(function(){i=e.apply(t,r)}),i}),e.mobile.navbar.prototype.refresh=function(){this.unbindListeners&&(this.unbindListeners(),this.unbindListeners=null);var e=this.element,t=e.find("ul"),n=t.children("li");t.removeClass(function(e,t){return(t.match(/\bui-grid-\S+/g)||[]).join(" ")}),n.removeClass(function(e,t){return(t.match(/\bui-block-\S+/g)||[]).join(" ")}),this._create()},e.mobile.rangeslider.prototype._setOption=function(){e.Widget.prototype._setOption.apply(this,arguments),this.refresh()}})(window.jQuery),function(e,t){function n(){var e=[];return{addHandler:function(t){e.push(t)},$get:["$injector",function(t){return function(n){var r;for(r=0;e.length>r;r++)n=t.invoke(e[r],this,{element:n});return n}}]}}function r(e){e.decorator("$compile",["$precompile","$delegate",function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return n[0]=e(n[0]),t.apply(this,n)}}])}function i(t,n){var r=e("<div>"+t+"</div>");return n(r.contents()),r.html()}function o(e,t){var n={},r=e.directive;e.directive=function(e,t){var o=function(e,r){var o=r.invoke(t);return o.template?o.template=i(o.template,e):o.templateUrl&&(n[o.templateUrl]=!0),o};return r.call(this,e,["$precompile","$injector",o])},t.decorator("$http",["$q","$delegate","$precompile",function(e,t,r){var o=t.get;return t.get=function(e){var t=o.apply(this,arguments);if(n[e]){var a=t.success;t.success=function(e){var t=function(){var t=Array.prototype.slice.call(arguments),n=t[0];return t[0]=i(n,r),e.apply(this,t)};return a(t)}}return t},t}])}var a=t.module("ng");a.provider("$precompile",n),a.config(["$provide",r]),a.config(["$compileProvider","$provide",o])}(e,t),function(e){function t(e){return e.$disconnect=function(){if(this.$root!==this){var e=this.$parent;this.$$disconnected=!0,e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$$nextSibling=this.$$prevSibling=null}},e.$reconnect=function(){if(this.$root!==this){var e=this;if(e.$$disconnected){var t=e.$parent;e.$$disconnected=!1,e.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=e,t.$$childTail=e):t.$$childHead=t.$$childTail=e}}},e}function n(e){function t(e,t,n){e.hasOwnProperty(t)||(e[t]=[]),e[t].push(n)}function n(e,t,n,r){var i,o;if(e.hasOwnProperty(t))for(o=e[t],r&&(e[t]=[]),i=0;o.length>i;i++)o[i].apply(null,n)}var r=e.$digest;return e.$preDigest=function(e){t(this,"$$preDigestListeners",e)},e.$postDigestOne=function(e){t(this,"$$postDigestOneListeners",e)},e.$postDigestAlways=function(e){t(this,"$$postDigestAlwaysListeners",e)},e.$digest=function(){function e(){i=!0}for(var t,i=!0;i;)i=!1,n(this,"$$preDigestListeners"),t=r.apply(this,arguments),n(this,"$$postDigestOneListeners",[e],!0),n(this,"$$postDigestAlwaysListeners",[e]);return t},e}function r(e){var t=e.$apply;e.$apply=function(){return e.$$phase?e.$eval.apply(this,arguments):t.apply(this,arguments)};var n=e.$digest;return e.$digest=function(){e.$$phase||n.apply(this,arguments)},e}var i=e.module("ng");i.config(["$provide",function(e){e.decorator("$rootScope",["$delegate",t]),e.decorator("$rootScope",["$delegate",n]),e.decorator("$rootScope",["$delegate",r])}])}(t),function(e,t){function n(t){var n;t.$preDigest(function(){var t=e.mobile.activePage,r=t&&t.scope();n&&n!==r&&n.$disconnect(),n=r,r&&r.$reconnect()}),t.$postDigestAlways(function(){for(var n=f.length;f.length;){var r=f.shift();r.$disconnect()}if(n&&!s){s=!0;var i=e.mobile.changePage;e.mobile.changePage=function(){};try{e.mobile.initializePage()}finally{e.mobile.changePage=i}t.$broadcast("jqmInit")}})}function r(t){e(document).on("pagebeforeshow",function(n){t.$broadcast("pagebeforeshow",n);var r=e(n.target).scope();r&&r.$$disconnected&&r.$broadcast("pagebeforeshow",n),t.$$phase?t.$postDigestOne(function(e){e()}):t.$digest()})}function i(e,t){function n(){var n=t.find(r).add(t.filter(r));n.attr("ngm-page","true"),e.markJqmWidgetCreation(function(){e.preventJqmWidgetCreation(function(){n.length>0?n.page():t.parent().trigger("create")})}),n.page("destroy")}var r=':jqmData(role="page"), :jqmData(role="dialog")',i=t[0].parentNode;for(o(e,t[0],n);t[0].parentNode!==i;)t=t.eq(0).parent();return t}function o(t,n,r){if(!n.parentNode)return r();for(;n.parentNode&&1===n.parentNode.nodeType;)n=n.parentNode;var i=n.parentNode;i!==document&&(d||(d=e('<div data-role="page"></div>'),c(t,d)),e("body").append(d),d.append(n));try{return r()}finally{i!==document&&(i&&i.appendChild(n),d[0].parentNode.removeChild(d[0]))}}function a(t){return{restrict:"A",scope:!0,compile:function(n){return n.removeAttr("ngm-page"),{pre:function(n,r){e.mobile.pageContainer||(e.mobile.pageContainer=r.parent().addClass("ui-mobile-viewport")),c(t,r),f.push(n)}}}}}function c(t,n){t.preventJqmWidgetCreation(function(){var t=e.mobile.page.prototype.widgetEventPrefix;e.mobile.page.prototype.widgetEventPrefix="noop",n.page(),e.mobile.page.prototype.widgetEventPrefix=t})}function u(t,n,r){function i(t){var n=t.jqmData("url"),r=e.mobile.path.get(n),i=/^(\w+:|#|\/)/;t.find("a").each(function(){var t=e(this),n=t.attr("href");n&&n.length>0&&!i.test(n)&&t.attr("href",r+n)})}r.patchJq("page",function(){return r.preventJqmWidgetCreation()||this.data(e.mobile.page.prototype.widgetFullName)||this.attr("data-"+e.mobile.ns+"external-page")&&(i(this),n(this)(t)),e.fn.orig.page.apply(this,arguments)})}var l=t.module("ng"),s=!1,f=[];return e.mobile.autoInitializePage=!1,l.config(["$precompileProvider",function(e){e.addHandler(["jqmNgWidget","element",i])}]),l.run(["$rootScope",n]),l.run(["$rootScope","$compile","jqmNgWidget","$browser",u]),l.run(["$rootScope",r]),l.directive("ngmPage",["jqmNgWidget","$timeout",a]),void 0;var d}(e,t),function(e,t){function n(t){var n={},c={},f={widget:function(e,r){if(1===arguments.length)return n[e];var o=!!n[e];n[e]=r,o||i(e,t)},$get:["$injector",function(t){return{lookup:function(e){return c[e]},_init:function(){var e,r;for(e in n)r=c[e]=t.invoke(n[e]),o(e,r)},preventJqmWidgetCreation:u,markJqmWidgetCreation:l,patchJq:a,createWidget:function(t,n,i){var o=JSON.parse(i[r(t)]);s(function(){e.fn.orig[t].apply(n,o)},n)},bindDefaultAttrsAndEvents:d,bindDisabledAttribute:p,refreshAfterNgModelRender:g,refreshOnChildrenChange:h,triggerAsyncRefresh:m}}]};return f}function r(e){return"ngm"+e[0].toUpperCase()+e.substring(1)}function i(e,t){function n(t){return{restrict:"A",priority:0,require:["?ngModel","?select"],compile:function(n,r){return JSON.parse(r[i]),{pre:function(n,r,i,o){var a=t.lookup(e);a.preLink&&a.preLink(e,n,r,i,o[0],o[1])},post:function(n,r,i,o){var a=t.lookup(e);a.link(e,n,r,i,o[0],o[1])}}}}}var i=r(e);t.directive(i,["jqmNgWidget",n])}function o(t,n){var r="data-ngm-"+t;a(t,function(){if(l())for(var i=Array.prototype.slice.call(arguments),o=this,a=0;o.length>a;a++){var c=o.eq(a);n&&n.precompile&&n.precompile(c,i),c.attr(r,JSON.stringify(i))}return u()?!1:e.fn.orig[t].apply(this,arguments)})}function a(t,n){e.fn.orig[t]=e.fn.orig[t]||e.fn[t],e.fn[t]=n}function c(e,t){if(!t)return b[e];var n=b[e];b[e]=!0;var r=t();return b[e]=n,r}function u(e){return c("preventJqmWidgetCreation",e)}function l(e){return c("markJqmWidgetCreation",e)}function s(t,n){var r,i,o,a,c=Array.prototype.slice.call(n.parents());for(c.unshift(n[0]),t(),r=Array.prototype.slice.call(n.parents()),r.unshift(n[0]),i=0;c.length>i;i++)if(o=c[c.length-i-1],a=r[r.length-i-1],o!==a){e(o).data("wrapperDelegate",e(a));break}}function f(t,n){var r=e.fn[t];e.fn[t]=function(){if(f.recurse||n&&!n.apply(this,arguments))return r.apply(this,arguments);try{f.recurse=!0;var e,i,o=Array.prototype.slice.call(arguments),a=o[0];return e=this.data("wrapperDelegate"),e&&"remove"===t&&r.apply(this,arguments),a&&"function"==typeof a.data&&(i=a.data("wrapperDelegate"),o[0]=i||o[0]),r.apply(e||this,o)}finally{f.recurse=!1}}}function d(t,n,r,i,o){var a=r.data(e.mobile[t].prototype.widgetFullName);a&&(a.disable&&a.enable&&(i.disabled||i.ngDisabled)&&p(t,r,i),a.refresh&&(h(t,n,r),o&&g(t,n,r,o)))}function p(e,t,n){n.$observe("disabled",function(n){n?t[e]("disable"):t[e]("enable")})}function g(e,t,n,r){v(r,"$render",function(){m(e,t,n,"refresh")})}function v(e,t,n){var r="_listeners"+t;if(!e[r]){e[r]=[];var i=e[t];e[t]=function(){for(var t=i.apply(this,arguments),n=0;e[r].length>n;n++)e[r][n]();return t}}e[r].push(n)}function h(e,t,n){n.bind("$childrenChanged",function(){m(e,t,n,"refresh")})}function m(e,t,n,r){var i="_refresh"+e,o=(n.data(i)||0)+1;n.data(i,o),t.$root.$postDigestOne(function(){n.data(i)===o&&n[e](r)})}var $=t.module("ng"),b={};e.fn.orig={},$.provider("jqmNgWidget",["$compileProvider",n]),$.run(["jqmNgWidget",function(e){e._init()}]),f("after"),f("before"),f("css",function(e){return"display"===e&&arguments.length>=2}),f("remove")}(window.jQuery,window.angular),function(e,t){function n(e){return{link:function(t,n,r,i,o){e.createWidget(t,r,i),e.bindDefaultAttrsAndEvents(t,n,r,i,o)}}}function r(e){return{preLink:function(e,t,n,r){"range"===r.type&&(r.type="number")},link:function(t,n,r,i,o){e.createWidget(t,r,i),e.bindDefaultAttrsAndEvents(t,n,r,i,o)}}}function i(e,t){return{link:function(n,r,i,o,c){e.createWidget(n,i,o),e.bindDefaultAttrsAndEvents(n,r,i,o,c),a("popup",t,r,i,o,"_")}}}function o(e,t){return{link:function(n,r,i,o,c){e.createWidget(n,i,o),e.bindDefaultAttrsAndEvents(n,r,i,o,c),a("panel",t,r,i,o,"")}}}function a(e,n,r,i,o,a){function c(n,o){var a=i.data(t.mobile[e].prototype.widgetFullName),c=a[n];a[n]=function(){var e=c.apply(this,arguments);return l||(l=!0,r.$apply(function(){f(r,o)}),l=!1),e}}function u(t){l||(l=!0,t?i[e]("open"):i[e]("close"),l=!1)}var l=!1;if(o.opened){var s=n(o.opened),f=s.assign;r.$watch(s,u),f&&(c(a+"open",!0),c(a+"close",!1))}}function c(e,t){function n(e,t){e.$root.$postDigestOne(function(e){e(),t()})}function r(e,t,n){if(t&&e.min!==void 0&&void 0===n){var r=t.$pristine;t.$pristine=!1,t.$setViewValue(e.min),t.$render(),t.$pristine=r}}function i(e,t){var n=e.children("option"),r=n.eq(0).val();if("?"===r||0===r.indexOf("? ")){n.eq(1).prop("selected",!0);var i=t.$pristine;t.$pristine=!1,e.trigger("change"),t.$pristine=i}}return{link:function(o,a,c,u,l,s){if(s)n(a,function(){i(c,l),e.createWidget(o,c,u),e.bindDefaultAttrsAndEvents(o,a,c,u,l)});else{var f;l&&(f=t(u.ngModel)(a)),r(u,l,f),e.createWidget(o,c,u),e.bindDefaultAttrsAndEvents(o,a,c,u,l)}}}}function u(e){function n(e){var n=t(e).closest("label"),r=t(e).closest("form,fieldset,:jqmData(role='page'),:jqmData(role='dialog')");0===r.length&&(r=e.parent());var i=n.length?n:r.find("label").filter("[for='"+e[0].id+"']");0===i.length?e.attr("ngm-no-label","true"):i.append(e)}return{precompile:n,link:function(t,n,r,i,o){var a=r.parent("label");if(!i.ngmNoLabel&&0===a.length)throw Error("Don't use ng-repeat or other conditional directives on checkboxes/radiobuttons directly. Instead, wrap the input into a label and put the directive on that input!");e.createWidget(t,r,i),e.bindDefaultAttrsAndEvents(t,n,r,i,o),i.$observe("checked",function(){e.triggerAsyncRefresh(t,n,r,"refresh")})}}}function l(e){return{precompile:function(e){if("INPUT"===e[0].nodeName.toUpperCase()){var t=e.val();e.append(document.createTextNode(t))}},link:function(t,n,r,i,o){var a=r.contents();e.createWidget(t,r,i);var c=r.parent().find(".ui-btn-text");c.empty(),c.append(a),e.bindDefaultAttrsAndEvents(t,n,r,i,o)}}}function s(e,t){function n(e,n,r){function i(e){a||(a=!0,e?n.triggerHandler("collapse"):n.triggerHandler("expand"),a=!1)}function o(t,r){n.bind(t,function(t){a||(a=!0,n[0]===t.target&&e.$apply(function(){u(e,r)}),a=!1)})}var a=!1;if(r.collapsed){var c=t(r.collapsed),u=c.assign;e.$watch(c,i),u&&(o("collapse",!0),o("expand",!1))}}return{link:function(t,r,i,o,a){e.createWidget(t,i,o),e.bindDefaultAttrsAndEvents(t,r,i,o,a),n(r,i,o)}}}function f(e){function n(e){function n(e,n){this.element=e,this.options=t.widget.extend({},this.options,this._getCreateOptions(),n)}n.prototype=t.mobile.dialog.prototype;var r=new n(e,{}),i=r.options,o=i.closeBtn;if("none"!==o){var a="left"===o?"left":"right",c=t("<a href='#' class='ui-btn-"+a+"' data-"+t.mobile.ns+"icon='delete' data-"+t.mobile.ns+"iconpos='notext'>"+i.closeBtnText+"</a>");e.find(":jqmData(role='header')").first().prepend(c)}}return{precompile:n,link:function(t,n,r,i,o){e.createWidget(t,r,i);var a=r.find(':jqmData(role="header") a:jqmData(icon="delete")');a.eq(1).bind("click",function(){r.dialog("close")}),a.eq(0).remove(),e.bindDefaultAttrsAndEvents(t,n,r,i,o)}}}function d(e){return{link:function(t,n,r,i,o){e.createWidget(t,r,i),e.bindDefaultAttrsAndEvents(t,n,r,i,o),r.bind("$childrenChanged",function(){e.triggerAsyncRefresh(t,n,r,{})})}}}function p(e){return{link:function(n,r,i,o,a){var c,u,l;e.createWidget(n,i,o),c=i.data(t.mobile[n].prototype.widgetFullName),c&&"columntoggle"===c.options.mode&&(u=(i.attr("id")||c.options.classes.popup)+"-popup",l=t("#"+u),l.trigger("create")),e.bindDefaultAttrsAndEvents(n,r,i,o,a)}}}var g=e.module("ng");g.config(["jqmNgWidgetProvider",function(a){var g,v;for(g in t.mobile)v=t.mobile[g],"page"!==g&&e.isFunction(v)&&v.prototype.widget&&a.widget(g,["jqmNgWidget",n]);a.widget("checkboxradio",["jqmNgWidget",u]),a.widget("button",["jqmNgWidget",l]),a.widget("collapsible",["jqmNgWidget","$parse",s]),a.widget("dialog",["jqmNgWidget",f]),a.widget("controlgroup",["jqmNgWidget",d]),a.widget("textinput",["jqmNgWidget",r]),a.widget("slider",["jqmNgWidget","$parse",c]),a.widget("popup",["jqmNgWidget","$parse",i]),a.widget("panel",["jqmNgWidget","$parse",o]),a.widget("table",["jqmNgWidget",p])}])}(t,e),function(e,t){function n(t){function n(t){function n(e){return function(){window.setTimeout(e,0)}}var r=t.onUrlChange;return t.onUrlChange=function(){var t=e.fn.bind;e.fn.bind=function(e,r){return this[0]===window?(r=n(r),t.call(this,e,r)):t.apply(this,arguments)};try{return r.apply(this,arguments)}finally{e.fn.bind=t}},t}function r(e){return e.back=function(){return e.$$replace="back",this},e}function i(e){var t=e.baseHref;return e.baseHref=function(){var e=t.call(this);return e?e.replace(/^file?\:\/\/[^\/]*/,""):e},e}function o(e){var t=e.url;return e.url=function(){var e=t.apply(this,arguments);return 0===arguments.length&&(e=e.replace(/%23/g,"#"),e=e.replace(/ /g,"%20")),e},e}function a(e,t,n,r){var i,o=e.url,a=e.onUrlChange,c=null;return a.call(e,function(e){if(c){var n=r.get("$location");n.routeOverride(c)}t.onUrlChangeBrowser(e),i&&i.apply(this,arguments)}),e.onUrlChange=function(e){a.call(this,function(){i||e.apply(this,arguments)})},e.stopOnUrlChangeListeners=function(e){i=e},t.removePastEntries=function(n){var r=t.urlStack[t.activeIndex],i=t.activeIndex-n,o=t.urlStack[i];r.url!==o.url?e.stopOnUrlChangeListeners(function(){r?(e.url(r.url,!0),t.urlStack[i]=r,r=null):e.stopOnUrlChangeListeners(null)}):t.urlStack[i]=r,t.go(-n)},e.url=function(e,n){if(e){var r=o.call(this,e,n===!0);return t.onUrlChangeProgrammatically(e,n===!0,"back"===n),r}return o.apply(this,arguments)},e}t.decorator("$browser",["$delegate",n]),t.decorator("$browser",["$delegate",o]),t.decorator("$browser",["$delegate",i]),t.decorator("$browser",["$delegate","$history","$rootScope","$injector",a]),t.decorator("$location",["$delegate","$history",r])}function r(){function e(e){window.setTimeout(function(){window.history.go(e)},20)}function t(){a.go(-1)}function n(e){var t,n=a.urlStack;for(t=0;n.length>t;t++)if(n[t].url===e)return t;return-1}function r(e){for(var t=a.activeIndex-1;t>=0&&a.urlStack[t].url!==e;)t--;return t}function i(e){var t=a.activeIndex;a.activeIndex=n(e),-1===a.activeIndex?o(e,!1):a.lastIndexFromUrlChange=t}function o(e,t,n){var i=a.urlStack[a.activeIndex];if(i&&i.url===e||(a.lastIndexFromUrlChange=-1,t||a.activeIndex++,a.urlStack.splice(a.activeIndex,a.urlStack.length-a.activeIndex),a.urlStack.push({url:e})),n){var o=a.activeIndex,c=r(e);-1!==c&&-1!==o&&a.removePastEntries(o-c)}}var a;return a={go:e,goBack:t,urlStack:[],indexOf:n,activeIndex:-1,fromUrlChange:!1,onUrlChangeProgrammatically:o,onUrlChangeBrowser:i}}var i=t.module("ng");e.mobile._registerBrowserDecorators=e.mobile._registerBrowserDecorators||[],e.mobile._registerBrowserDecorators.push(n),i.config(["$provide",function(e){n(e)}]),i.factory("$history",r)}(window.jQuery,window.angular),function(e,t){function n(){$.directive("a",g),$.config(["$locationProvider",v])}function r(e){e.routeOverride=function(t){return 0===arguments.length?e.$$routeOverride:(e.$$routeOverride=t,this)};var t=e.hash();return t&&0===t.indexOf("!")&&(e.search({}),e.url(t.substring(1))),e}function i(){t.mobile.pushStateEnabled=!1,t.mobile.hashListeningEnabled=!1,t.mobile.linkBindingEnabled=!1,t.mobile.changePage.defaults.changeHash=!1,t.mobile._handleHashChange=function(){},t.support.dynamicBaseTag&&(t.support.dynamicBaseTag=!1,t.mobile.base.set=function(){}),t.mobile.changePage.defaults.allowSamePageTransition=!0;var e=t.mobile.urlHistory.add;t.mobile.urlHistory.add=function(){var n=e.apply(this,arguments),r=t.mobile.urlHistory,i=r.stack,o=i.length-3;return i.length>3&&(i.splice(0,o),r.activeIndex-=o,0>r.activeIndex&&(r.activeIndex=0)),n}}function o(e){var t=e.when;e.when=function(e,n){if(!n.templateUrl&&!n.redirectTo)throw Error("Only routes with templateUrl or redirectTo are allowed with the jqm adapter!");if(n.controller)throw Error("Controllers are not allowed on routes with the jqm adapter. However, you may use the onActivate parameter");return t.apply(this,arguments)},e.otherwise({templateUrl:m})}function a(t,n){t.$on("$routeChangeStart",function(t,r){r.jqmOptions=e.extend({},r.jqmOptions);var i=n.$$routeOverride;delete n.$$routeOverride,i&&(i.onActivate&&(r.onActivate=i.onActivate),e.extend(r.jqmOptions,i.jqmOptions),r.resolve=r.resolve||{},e.forEach(i.locals,function(e,t){r.resolve[t]=function(){return e}})),r.ngmTemplateUrl=r.templateUrl,r.templateUrl=void 0})}function c(n,r,i,o,a){function c(n,o){var c=t(o.target),s=c.data("lastNavProps");if(s&&s.navByNg){var d,p=r.current,g=a.urlStack[a.activeIndex];g&&(t.mobile.urlHistory.getActive().lastScroll=g.lastScroll),u(c)?g.tempUrl=!0:l(c)&&f(a),p&&p.onActivate&&(d=e.extend({},p.locals,i),c.scope().$eval(p.onActivate,d))}}function s(e,t){"object"==typeof t.toPage&&t.toPage.data("lastNavProps",t.options)}function f(e){for(var t=e.activeIndex-1,n=0;t>=0&&e.urlStack[t].tempUrl;)n++,t--;n>0&&e.removePastEntries(n)}t(document).on("pagebeforechange",s),n.$on("pagebeforeshow",c)}function u(e){return e&&"dialog"===e.jqmData("role")}function l(e){return e&&"page"===e.jqmData("role")}function s(e,n,r,i,o){e.$on("$routeChangeSuccess",function(){function a(){t.mobile.changePage(l,s)}function c(e){var n,r=o.urlStack[o.activeIndex];if(r){if(o.lastIndexFromUrlChange>=0){n=o.urlStack[o.lastIndexFromUrlChange];var i;o.lastIndexFromUrlChange>o.activeIndex?(e.reverse=!0,i=n):i=r,i&&i.jqmOptions&&(e.transition=i.jqmOptions.transition)}else n=o.urlStack[o.activeIndex-1],r.jqmOptions=e;n&&(n.lastScroll=t.mobile.urlHistory.getActive().lastScroll)}}var u=n.current;if(!u.redirectTo){t(document);var l=u.ngmTemplateUrl;l===m&&(l=r.url(),l&&"/"===l.charAt(0)&&(l=l.slice(1))),l=t.mobile.path.makeUrlAbsolute(l,i.baseHref());var s=u.jqmOptions||{};c(s),s.navByNg=!0,t.mobile.firstPage?a():e.$on("jqmInit",a)}})}function f(e,n,r){var i=t.mobile.dialog.prototype;i.origClose=i.origClose||i.close,i.close=function(){var n=t.mobile.activePage.data("lastNavProps");this._isCloseable&&n&&n.navByNg?(this._isCloseable=!1,e.$apply(function(){r.goBack()})):this.origClose()}}function d(e,n,r,i,o){var a=n.jqmData("rel");if("back"===a)e.preventDefault(),r.$apply(function(){o.goBack()});else if("popup"===a)e.preventDefault(),r.$apply(function(){var e=t.mobile.activePage.find(n.attr("href"));if(e.length){var r=n.offset();e.popup("open",{x:r.left+n.outerWidth()/2,y:r.top+n.outerHeight()/2,transition:n.jqmData("transition"),positionTo:n.jqmData("position-to")})}});else if(p(n))e.preventDefault();else{var c=n.prop("href"),u=i.$$rewriteAppUrl(c),l=n.jqmData("ajax");if(c&&!n.attr("target")&&l!==!1&&"external"!==a&&u){i.$$parse(u),e.preventDefault(),window.angular["ff-684208-preventDefault"]=!0;var s=i.routeOverride()||{},f=s.jqmOptions={link:n},d=n.jqmData("transition");d&&(f.transition=d);var g=n.jqmData("direction");g&&(f.reverse="reverse"===g),i.routeOverride(s),r.$apply()}}}function p(e){var t=e.attr("href");return"#"===t||!t}function g(){return{restrict:"E",compile:function(e,t){p(e)&&t.$set("href","#")}}}function v(n){var r=n.$get;n.$get=["$injector","$rootElement","$rootScope","$browser","$history",function(i,o,a,c,u){var l=h(o,function(){return i.invoke(r,n)});return o.bind("click",function(n){if(!n.ctrlKey&&!n.metaKey&&2!==n.which){for(var r=t(n.target);"a"!==e.lowercase(r[0].nodeName);)if(r[0]===o[0]||!(r=r.parent())[0])return;d(n,r,a,l,u)}}),l}]}function h(e,n){var r=t.fn.bind;try{return t.fn.bind=function(t){return"click"!==t||this[0]!==e[0]?r.apply(this,arguments):void 0},n()}finally{t.fn.bind=r}}var m="DEFAULT_JQM_PAGE",$=e.module("ng");i(),$.config(["$locationProvider",function(e){e.html5Mode(!0),e.hashPrefix("!")}]),$.directive("ngView",function(){throw Error("ngView is not allowed and not needed with the jqm adapter.")}),n(),$.config(["$routeProvider",o]),$.run(["$rootScope","$location",a]),$.run(["$rootScope","$route","$routeParams","$location","$history",c]),$.run(["$rootScope","$route","$location","$browser","$history",s]),$.run(["$rootScope","$location","$history",f]),$.config(["$provide",function(e){e.decorator("$location",["$delegate",r])}])}(t,e),function(e,t){function n(e,t){var n;if(!!e^!!t)return!1;for(n in e)if(t[n]!==e[n])return!1;for(n in t)if(t[n]!==e[n])return!1;return!0}function r(e){if(!e)return e;var t;t=e.length?[]:{};for(var n in e)t[n]=e[n];return t}var i=t.module("ng");i.directive("ngRepeat",function(){return{priority:1e3,compile:function(){return{pre:function(e,t,i){var o=i.ngRepeat,a=o.match(/^.+in\s+(.*)\s*$/);if(!a)throw Error("Expected ngRepeat in form of '_item_ in _collection_' but got '"+o+"'.");var c,u=a[1],l=0;e.$watch(function(){var t=e.$eval(u);return n(t,c)||(c=r(t),l++),l},function(){t.parent().trigger("$childrenChanged")})}}}}})}(e,t),function(e,t){function n(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}var r=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*)$/,i=t.module("ng");i.directive("ngOptions",["$parse",function(e){return{require:["select","?ngModel"],link:function(t,i,o,a){function c(){var e,r,i,o=[],a=g(t)||[],c=d?n(a):a,u={};for(r=c.length,i=0;r>i;i++)a[i],u[f]=a[d?u[d]=c[i]:i],e=p(t,u),o.push({id:d?c[i]:i,label:s(t,u),optionGroup:e});return o}if(a[1]){var u,l=o.ngOptions;if(!(u=l.match(r)))throw Error("Expected ngOptions in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '"+l+"'.");var s=e(u[2]||u[1]),f=u[4]||u[6],d=u[5],p=e(u[3]||""),g=(e(u[2]?u[1]:f),e(u[7]));t.$watch(c,function(){i.trigger("$childrenChanged")},!0)}}}}])}(e,t),function(e){var t=e.module("ng");t.directive("option",["$interpolate",function(e){return{restrict:"E",compile:function(t){var n=e(t.text(),!0),r=t.attr("value");return r!==!1&&r!==void 0&&(r=e(t.attr("value"),!0)),function(e,t){e.$watch(n,function(){t.trigger("$childrenChanged")}),e.$watch(r,function(){t.trigger("$childrenChanged")})}}}}])}(t),function(t){var n=t.module("ng");n.directive("li",function(){return{restrict:"E",compile:function(){return function(t,n){n.bind("$childrenChanged",function(){n.removeClass(function(e,t){return(t.match(/\bui-\S+/g)||[]).join(" ")});var t=n.data("buttonElements");if(t){for(var r=t.text;r.firstChild;)n[0].appendChild(r.firstChild);e(t.inner).remove()}n.removeData("buttonElements")})}}}})}(t),function(e){var t=e.module("ng");t.directive("ngSwitch",function(){return{restrict:"EA",compile:function(e,t){var n=t.ngSwitch||t.on;return function(e,t){e.$watch(n,function(){t.trigger("$childrenChanged")})}}}})}(t),function(e){var t=e.module("ng");t.directive("ngInclude",function(){return{restrict:"ECA",compile:function(e,t){var n=t.ngInclude||t.src;return function(e,t){e.$watch(n,function(){t.trigger("$childrenChanged")}),e.$on("$includeContentLoaded",function(){t.trigger("$childrenChanged")})}}}})}(t),function(e,t){function n(){return{restrict:"E",require:"?ngModel",compile:function(e){var t=e.attr("type");return{pre:function(e,n,r,i){if(i){var o=[];"date"===t&&o.push("blur"),o.push("change");var a=n.bind;n.bind=function(e,t){if(-1!==e.indexOf("input")||-1!==e.indexOf("change"))for(var n=0;o.length>n;n++){var r=o[n];-1===e.indexOf(r)&&(e+=" "+r)}return a.call(this,e,t)}}}}}}}var r=t.module("ng");r.directive("input",n),r.directive("textarea",n)}(e,t),function(e){var t={transclude:"element",priority:1e3,terminal:!0,compile:function(e,t,n){return function(e,t,r){t[0].doNotMove=!0;var i,o,a=r.ngmIf;e.$watch(a,function(r){i&&(i.remove(),i=null),o&&(o.$destroy(),o=null),r&&(o=e.$new(),n(o,function(e){i=e,t.after(e)})),t.parent().trigger("$childrenChanged")})}}},n=e.module("ng");n.directive("ngmIf",function(){return t})}(t),function(e){function t(e,t,n,r,i,o){var a=t(o);i?e.$on(r,function(e,t){a(e.currentScope,{$event:t})}):n.bind(r,function(t){e.$apply(function(){a(e,{$event:t})}),"v"===r.charAt(0)&&t.preventDefault()})}function n(e,n,r){a.directive(e,["$parse",function(i){return function(o,a,c){var u=c[e];t(o,i,a,n,r,u)}}])}var r,i,o,a=e.module("ng"),c=["tap","taphold","swipe","swiperight","swipeleft","vmouseover","vmouseout","vmousedown","vmousemove","vmouseup","vclick","vmousecancel","orientationchange","scrollstart","scrollend","pagebeforeshow","pagebeforehide","pageshow","pagehide"],u={pagebeforeshow:!0};for(o=0;c.length>o;o++)r=c[o],i="ngm"+r.substring(0,1).toUpperCase()+r.substring(1),n(i,r,u[r])}(t),function(e){function t(e){return e[i]=e[i]||{}}function n(e,n,r,i){var o=t(e),a=o[n];return a||(a=e.$new(),r(n,{$scope:a}),o[n]=a,a.$$referenceCount=0),a.$$referenceCount++,i.bind("$destroy",function(){a.$$referenceCount--,0===a.$$referenceCount&&(a.$destroy(),delete o[n])}),a}function r(e){for(var t,n=/([^\s,:]+)\s*:\s*([^\s,:]+)/g,r=!1,i={};t=n.exec(e);)r=!0,i[t[1]]=t[2];if(!r)throw"Expression "+e+" needs to have the syntax <name>:<controller>,...";return i}var i="$$sharedControllers",o=e.module("ng");o.directive("ngmSharedController",["$controller",function(e){return{scope:!0,compile:function(t,i){var o=i.ngmSharedController,a=r(o),c=function(r){for(var i in a)r[i]=n(r.$root,a[i],e,t)};return{pre:c}}}}])}(t),function(e,t){function n(t){function n(e){var n=l[l.length-1];n.callback&&t.$apply(function(){n.callback.apply(this,arguments)}),e.preventDefault()}function r(){if(!e.mobile.firstPage)return t.$on("jqmInit",r),void 0;if(l.length>0){var n=l[l.length-1],i=n.msg;i?e.mobile.loading("show",{text:i,textVisible:!!i}):e.mobile.loading("show")}else e.mobile.loading("hide")}function i(){var e,t;"string"==typeof arguments[0]&&(e=arguments[0]),"function"==typeof arguments[0]&&(t=arguments[0]),"function"==typeof arguments[1]&&(t=arguments[1]),l.push({msg:e,callback:t}),r()}function o(){l.pop(),r()}function a(e,t){e.then(t,t)}function c(e,t){i(t),a(e,function(){o()})}function u(t,n,r){r||(r=e.mobile.loader.prototype.options.textWithCancel),i(r,function(){t.reject(n)}),a(t.promise,function(){o()})}var l=[];return e(document).delegate(".ui-loader","vclick",n),e.mobile.loader.prototype.options.textWithCancel||(e.mobile.loader.prototype.options.textWithCancel="Loading. Click to cancel."),e(document).on("pageshow","div",function(){r()}),{show:i,hide:o,waitFor:c,waitForWithCancel:u}}var r=t.module("ng");r.factory("$waitDialog",["$rootScope",n])}(e,t),function(e,t){function n(e){return function(t,n,r){if(!t)return t;if(!n)throw Error("Missing pager property");var i=this,o=i[n];o||(o=i[n]={loadMore:function(){this.loadMoreCalled=!0}});var a=r?+r:e,c=o.endIndex||a;return o.loadMoreCalled&&(o.loadMoreCalled=!1,c+=a),c>=t.length&&(c=t.length),a>c&&(c=a),o.hasMore=t.length>c,o.endIndex=c,o.cache=t.slice(0,c),o.cache}}n.$inject=["defaultListPageSize"];var r=t.module(["ng"]);r.constant("defaultListPageSize",10),r.filter("paged",n)}(e,t)});